{
    "handoffs": {
        "handoff_rules": [
            {
                "source_agent": "user",
                "target_agent": "InterviewAgent",
                "handoff_type": "condition",
                "condition": "When the user responds to the initial intake prompt.",
                "transition_target": "AgentTarget"
            },
            {
                "source_agent": "InterviewAgent",
                "target_agent": "user",
                "handoff_type": "after_work",
                "condition": null,
                "transition_target": "RevertToUserTarget"
            },
            {
                "source_agent": "InterviewAgent",
                "target_agent": "ActionPlanArchitect",
                "handoff_type": "condition",
                "condition_type": "expression",
                "condition": "${interview_complete} == True",
                "transition_target": "AgentTarget"
            },
            {
                "source_agent": "user",
                "target_agent": "ActionPlanArchitect",
                "handoff_type": "condition",
                "condition": "When the user requests adjustments to the proposed workflow plan.",
                "transition_target": "AgentTarget"
            },
            {
                "source_agent": "ActionPlanArchitect",
                "target_agent": "ProjectOverviewAgent",
                "handoff_type": "after_work",
                "condition": null,
                "transition_target": "AgentTarget"
            },
            {
                "source_agent": "ProjectOverviewAgent",
                "target_agent": "user",
                "handoff_type": "after_work",
                "condition": null,
                "transition_target": "RevertToUserTarget"
            },
            {
                "source_agent": "ProjectOverviewAgent",
                "target_agent": "ContextVariablesAgent",
                "handoff_type": "condition",
                "condition_type": "expression",
                "condition": "${action_plan_acceptance} == \"accepted\"",
                "transition_target": "AgentTarget"
            },
            {
                "source_agent": "user",
                "target_agent": "ContextVariablesAgent",
                "handoff_type": "condition",
                "condition": "When the user approves the action plan and is ready to proceed with context planning.",
                "transition_target": "AgentTarget"
            },
            {
                "source_agent": "ContextVariablesAgent",
                "target_agent": "ToolsManagerAgent",
                "handoff_type": "after_work",
                "condition": null,
                "transition_target": "AgentTarget"
            },
            {
                "source_agent": "ToolsManagerAgent",
                "target_agent": "UIFileGenerator",
                "handoff_type": "after_work",
                "condition": null,
                "transition_target": "AgentTarget"
            },
            {
                "source_agent": "UIFileGenerator",
                "target_agent": "AgentToolsFileGenerator",
                "handoff_type": "after_work",
                "condition": null,
                "transition_target": "AgentTarget"
            },
            {
                "source_agent": "AgentToolsFileGenerator",
                "target_agent": "AgentsAgent",
                "handoff_type": "after_work",
                "condition": null,
                "transition_target": "AgentTarget"
            },
            {
                "source_agent": "AgentsAgent",
                "target_agent": "StructuredOutputsAgent",
                "handoff_type": "after_work",
                "condition": null,
                "transition_target": "AgentTarget"
            },
            {
                "source_agent": "StructuredOutputsAgent",
                "target_agent": "HookAgent",
                "handoff_type": "after_work",
                "condition": null,
                "transition_target": "AgentTarget"
            },
            {
                "source_agent": "HookAgent",
                "target_agent": "HandoffsAgent",
                "handoff_type": "after_work",
                "condition": null,
                "transition_target": "AgentTarget"
            },
            {
                "source_agent": "HandoffsAgent",
                "target_agent": "OrchestratorAgent",
                "handoff_type": "after_work",
                "condition": null,
                "transition_target": "AgentTarget"
            },
            {
                "source_agent": "OrchestratorAgent",
                "target_agent": "DownloadAgent",
                "handoff_type": "after_work",
                "condition": null,
                "transition_target": "AgentTarget"
            },
            {
                "source_agent": "DownloadAgent",
                "target_agent": "user",
                "handoff_type": "after_work",
                "condition": null,
                "transition_target": "RevertToUserTarget"
            },
            {
                "source_agent": "user",
                "target_agent": "InterviewAgent",
                "handoff_type": "condition",
                "condition": "When the user requests further changes after reviewing the delivered bundle.",
                "transition_target": "AgentTarget"
            },
            {
                "source_agent": "user",
                "target_agent": "terminate",
                "handoff_type": "condition",
                "condition": "When the user confirms the download is complete and no further changes are needed.",
                "transition_target": "TerminateTarget"
            }
        ]
    }
}
