{
  "workflow_name": "Generator",
  "max_turns": 25,
  "initiating_agent": "AgentsAgent",
  "human_in_the_loop": true,
  "auto_start": true,
  "transport": "sse",
  "initial_message_to_user": null,
  "initial_message_to_groupchat": "Based on the concept overview in the context variables, please begin by analyzing what types of agents will be needed for this application. Define the agent architecture first, then we'll create the context variables based on those agent requirements.",
  "ui_capable_agents": [
    {
      "name": "UserFeedbackAgent",
      "role": "user_feedback_manager",
      "capabilities": ["chat", "artifacts"],
      "components": [
        {
          "name": "FileDownloadCenter",
          "type": "artifact",
          "description": "Download generated files",
          "actions": ["download", "download_all"],
          "backend_handler": "file_manager.handle_download"
        }
      ]
    },
    {
      "name": "APIKeyAgent",
      "role": "api_credential_manager",
      "capabilities": ["chat", "inline_components"],
      "components": [
        {
          "name": "AgentAPIKeyInput",
          "type": "inline",
          "description": "Secure API key collection",
          "actions": ["submit", "cancel"],
          "backend_handler": "api_manager.store_api_key"
        }
      ]
    }
  ],
  "tools": {
    "agent_tools": [
      {
        "name": "echo_all",
        "module": "workflows.Generator.tools.echo_all",
        "function": "echo",
        "apply_to": "all",
        "description": "Simple echo tool that is registered for every agent"
      },
      {
        "name": "echo_ctx_only",
        "module": "workflows.Generator.tools.echo_ctx_only",
        "function": "echo_context", 
        "apply_to": ["ContextVariablesAgent"],
        "description": "Echo tool registered only for ContextVariablesAgent"
      }
    ],
    "lifecycle_hooks": [
      {
        "name": "agent_state_logger",
        "module": "workflows.Generator.tools.agent_state_logger",
        "function": "log_agent_state_update",
        "trigger": "update_agent_state",
        "apply_to": "all",
        "description": "Logs when any agent updates its state before replying"
      },
      {
        "name": "message_sender_tracker",
        "module": "workflows.Generator.tools.message_sender_tracker", 
        "function": "track_message_sending",
        "trigger": "process_message_before_send",
        "apply_to": "all",
        "description": "Tracks when any agent is about to send a message"
      },
      {
        "name": "conversation_analyzer",
        "module": "workflows.Generator.tools.conversation_analyzer",
        "function": "analyze_full_conversation",
        "trigger": "process_all_messages_before_reply",
        "apply_to": "all", 
        "description": "Analyzes the full conversation before any agent replies"
      },
      {
        "name": "latest_message_inspector",
        "module": "workflows.Generator.tools.latest_message_inspector",
        "function": "inspect_latest_message",
        "trigger": "process_last_received_message",
        "apply_to": "all",
        "description": "Inspects the latest message received by any agent"
      }
    ]
  }
}