{
  "context_variables": {
    "definitions": {
      "context_aware": {
        "type": "boolean",
        "description": "Flag indicating if the application is opensource (in which the llm will ask for context) or part of an existing product in which the agent will be seeded with initial context",
        "source": {
          "type": "environment",
          "env_var": "CONTEXT_AWARE",
          "default": true
        }
      },
      "concept_overview": {
        "type": "string",
        "description": "Main project description and overview from the database",
        "source": {
          "type": "database",
          "database_name": "autogen_ai_agents",
          "collection": "Concepts",
          "search_by": "enterprise_id",
          "field": "ConceptOverview"
        }
      },
      "monetization_enabled": {
        "type": "boolean",
        "description": "Flag indicating if monetization features are enabled",
        "source": {
          "type": "environment",
          "env_var": "MONETIZATION_ENABLED",
          "default": false
        }
      },
      "interview_complete": {
        "type": "boolean",
        "description": "True once InterviewAgent has enough context to proceed to the next stage",
        "source": {
          "type": "derived",
          "default": false,
          "triggers": [
            {
              "type": "agent_text",
              "agent": "InterviewAgent",
              "match": {
                "equals": "NEXT"
              },
              "ui_hidden": true
            }
          ]
        }
      },
      "action_plan_acceptance": {
        "type": "string",
        "description": "User's response to the action plan: 'accepted', 'adjustments_requested', or 'pending'. Updated after the combined Action Plan + diagram review UI completes.",
        "source": {
          "type": "derived",
          "default": "pending",
          "triggers": [
            {
              "type": "ui_response",
              "tool": "mermaid_sequence_diagram",
              "response_key": "plan_acceptance"
            }
          ]
        }
      },
      "action_plan": {
        "type": "object",
        "description": "The complete Action Plan workflow object generated by WorkflowImplementationAgent. Used for revision handling.",
        "source": {
          "type": "derived",
          "default": null,
          "triggers": []
        }
      },
      "workflow_strategy": {
        "type": "object",
        "description": "High-level workflow strategy generated by WorkflowStrategyAgent for downstream implementation.",
        "source": {
          "type": "derived",
          "default": null,
          "triggers": []
        }
      },
      "strategy_ready": {
        "type": "boolean",
        "description": "True when WorkflowStrategyAgent has stored the high-level plan for downstream agents.",
        "source": {
          "type": "derived",
          "default": false,
          "triggers": []
        }
      },
      "download_complete": {
        "type": "boolean",
        "description": "True when user accepts workflow download and completes the session. Triggers workflow termination.",
        "source": {
          "type": "derived",
          "default": false,
          "triggers": [
            {
              "type": "ui_response",
              "tool": "generate_and_download",
              "response_key": "download_accepted"
            }
          ]
        }
      }
    },
    "agents": {
      "InterviewAgent": {
        "variables": [
          "context_aware",
          "concept_overview",
          "monetization_enabled"
        ]
      },
      "WorkflowStrategyAgent": {
        "variables": [
          "concept_overview",
          "interview_complete",
          "workflow_strategy",
          "strategy_ready"
        ]
      },
      "WorkflowImplementationAgent": {
        "variables": [
          "concept_overview",
          "workflow_strategy",
          "action_plan",
          "strategy_ready",
          "action_plan_acceptance"
        ]
      },
      "ProjectOverviewAgent": {
        "variables": [
          "action_plan_acceptance"
        ]
      }
    }
  }
}