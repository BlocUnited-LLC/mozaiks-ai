definitions:
- name: concept_overview
  type: string
  description: Project description and overview from the Concepts collection (produced
    by ValueEngine).
  source:
    type: data_reference
    db_type: mongodb
    database_name: autogen_ai_agents
    collection: Concepts
    query_template:
      app_id: '{{runtime.app_id}}'
    fields:
    - ConceptOverview
    default: null
- name: concept_api_endpoints
  type: array
  description: Optional API endpoints blueprint from the Concepts collection (produced
    by ValueEngine).
  source:
    type: data_reference
    db_type: mongodb
    database_name: autogen_ai_agents
    collection: Concepts
    query_template:
      app_id: '{{runtime.app_id}}'
    fields:
    - ApiEndpoints
    default: []
- name: concept_blueprint
  type: object
  description: Optional structured blueprint from the Concepts collection (produced
    by ValueEngine).
  source:
    type: data_reference
    db_type: mongodb
    database_name: autogen_ai_agents
    collection: Concepts
    query_template:
      app_id: '{{runtime.app_id}}'
    fields:
    - Blueprint
    default: null
- name: frontend_design_document
  type: string
  description: Latest frontend design document generated by DesignDocs (if available).
  source:
    type: data_reference
    db_type: mongodb
    database_name: MozaiksAI
    collection: DesignDocuments
    query_template:
      app_id: '{{runtime.app_id}}'
      kind: frontend
      status: succeeded
    fields:
    - content
    default: null
- name: backend_design_document
  type: string
  description: Latest backend design document generated by DesignDocs (if available).
  source:
    type: data_reference
    db_type: mongodb
    database_name: MozaiksAI
    collection: DesignDocuments
    query_template:
      app_id: '{{runtime.app_id}}'
      kind: backend
      status: succeeded
    fields:
    - content
    default: null
- name: database_design_document
  type: string
  description: Latest database design document generated by DesignDocs (if available).
  source:
    type: data_reference
    db_type: mongodb
    database_name: MozaiksAI
    collection: DesignDocuments
    query_template:
      app_id: '{{runtime.app_id}}'
      kind: database
      status: succeeded
    fields:
    - content
    default: null
- name: agent_websocket_url
  type: string
  description: WebSocket URL for the agent backend (typically produced by AgentGenerator
    export).
  source:
    type: data_reference
    db_type: mongodb
    database_name: MozaiksAI
    collection: WorkflowExports
    query_template:
      app_id: '{{runtime.app_id}}'
      workflow_type: agent-generator
    fields:
    - agent_websocket_url
    default: null
- name: agent_api_url
  type: string
  description: HTTP API URL for the agent backend (typically produced by AgentGenerator
    export).
  source:
    type: data_reference
    db_type: mongodb
    database_name: MozaiksAI
    collection: WorkflowExports
    query_template:
      app_id: '{{runtime.app_id}}'
      workflow_type: agent-generator
    fields:
    - agent_api_url
    default: null
- name: agent_repo_url
  type: string
  description: GitHub repository URL for the latest AgentGenerator export (if available).
  source:
    type: data_reference
    db_type: mongodb
    database_name: MozaiksAI
    collection: WorkflowExports
    query_template:
      app_id: '{{runtime.app_id}}'
      workflow_type: agent-generator
    fields:
    - repo_url
    default: null
- name: agent_names
  type: array
  description: Agent names extracted from the most recent AgentGenerator bundle export
    (if available).
  source:
    type: data_reference
    db_type: mongodb
    database_name: MozaiksAI
    collection: WorkflowExports
    query_template:
      app_id: '{{runtime.app_id}}'
      workflow_type: agent-generator
    fields:
    - agent_names
    default: []
- name: tool_names
  type: array
  description: Tool names extracted from the most recent AgentGenerator bundle export
    (if available).
  source:
    type: data_reference
    db_type: mongodb
    database_name: MozaiksAI
    collection: WorkflowExports
    query_template:
      app_id: '{{runtime.app_id}}'
      workflow_type: agent-generator
    fields:
    - tool_names
    default: []
- name: available_agents
  type: array
  description: Alias for agent_names (preferred downstream name).
  source:
    type: data_reference
    db_type: mongodb
    database_name: MozaiksAI
    collection: WorkflowExports
    query_template:
      app_id: '{{runtime.app_id}}'
      workflow_type: agent-generator
    fields:
    - available_agents
    default: []
- name: available_tools
  type: array
  description: Alias for tool_names (preferred downstream name).
  source:
    type: data_reference
    db_type: mongodb
    database_name: MozaiksAI
    collection: WorkflowExports
    query_template:
      app_id: '{{runtime.app_id}}'
      workflow_type: agent-generator
    fields:
    - available_tools
    default: []
- name: integration_tests_passed
  type: boolean
  description: Set by run_integration_tests tool to route handoffs.
  source:
    type: computed
    default: false
- name: integration_test_result
  type: object
  description: Raw integration test result payload (may be null).
  source:
    type: computed
    default: null
- name: app_validation_passed
  type: boolean
  description: Set by validate_app_in_sandbox tool to route handoffs.
  source:
    type: computed
    default: false
- name: app_validation_preview_url
  type: string
  description: Preview URL returned by sandbox validation (may be null).
  source:
    type: computed
    default: null
- name: app_validation_result
  type: object
  description: Raw sandbox validation result payload (may be null).
  source:
    type: computed
    default: null
agents:
- agent_name: DatabaseAgent
  variables:
  - concept_overview
  - concept_api_endpoints
  - concept_blueprint
  - agent_websocket_url
  - agent_api_url
  - agent_repo_url
  - agent_names
  - tool_names
  - available_agents
  - available_tools
- agent_name: AppValidationAgent
  variables:
  - app_validation_passed
  - app_validation_preview_url
  - app_validation_result
- agent_name: IntegrationTestAgent
  variables:
  - concept_overview
  - concept_api_endpoints
  - concept_blueprint
  - agent_websocket_url
  - agent_api_url
  - agent_repo_url
  - agent_names
  - tool_names
  - available_agents
  - available_tools
  - integration_tests_passed
  - integration_test_result
