from pathlib import Path

path = Path(r"c:\\Users\\mbari\\OneDrive\\Desktop\\BlocUnited\\BlocUnited Code\\MozaiksAI\\PATTERN_COOKBOOK_REFERENCE.md")
text = path.read_text()
replacements = {
    """          \"content\": \"from typing import Dict\n\nROUTE_KEYWORDS = {\n    \\\"billing\\\": (\\\"invoice\\\", \\\"charge\\\", \\\"payment\\\", \\\"refund\\\"),\n    \\\"technical\\\": (\\\"error\\\", \\\"bug\\\", \\\"outage\\\", \\\"integration\\\"),\n    \\\"compliance\\\": (\\\"policy\\\", \\\"gdpr\\\", \\\"audit\\\", \\\"privacy\\\")\n}\n\ndef classify_support_domain(payload: Dict[str, str]) -> Dict[str, object]:\n    \\\"\\\"\\\"Lightweight heuristic intent classifier for omnichannel support.\\\"\\\"\\\"\n    text = (payload.get(\\\"message\\\") or \\\"\\\").lower()\n    scores = {domain: 0.1 for domain in ROUTE_KEYWORDS}\n    for domain, keywords in ROUTE_KEYWORDS.items():\n        for keyword in keywords:\n            if keyword in text:\n                scores[domain] += 1.0\n    best = max(scores, key=scores.get)\n    total = sum(scores.values())\n    normalized = {k: round(v / total, 3) for k, v in scores.items()}\n    return {\\\"route_target\\\": best, \\\"route_confidence\\\": normalized[best], \\\"scores\\\": normalized}\",\n""": """          \"content\": \"from typing import Dict\\n\\nROUTE_KEYWORDS = {\\n    \\\"billing\\\": (\\\"invoice\\\", \\\"charge\\\", \\\"payment\\\", \\\"refund\\\"),\\n    \\\"technical\\\": (\\\"error\\\", \\\"bug\\\", \\\"outage\\\", \\\"integration\\\"),\\n    \\\"compliance\\\": (\\\"policy\\\", \\\"gdpr\\\", \\\"audit\\\", \\\"privacy\\\")\\n}\\n\\ndef classify_support_domain(payload: Dict[str, str]) -> Dict[str, object]:\\n    \\\"\\\"\\\"Lightweight heuristic intent classifier for omnichannel support.\\\"\\\"\\\"\\n    text = (payload.get(\\\"message\\\") or \\\"\\\").lower()\\n    scores = {domain: 0.1 for domain in ROUTE_KEYWORDS}\\n    for domain, keywords in ROUTE_KEYWORDS.items():\\n        for keyword in keywords:\\n            if keyword in text:\\n                scores[domain] += 1.0\\n    best = max(scores, key=scores.get)\\n    total = sum(scores.values())\\n    normalized = {k: round(v / total, 3) for k, v in scores.items()}\\n    return {\\\"route_target\\\": best, \\\"route_confidence\\\": normalized[best], \\\"scores\\\": normalized}\",\n""",
    """          \"content\": \"import logging\nfrom datetime import datetime\nfrom typing import Any, Dict\n\nlogger = logging.getLogger(\\\"omnichannel_router\\\")\n\ndef log_route_decision(payload: Dict[str, Any]) -> Dict[str, Any]:\n    \\\"\\\"\\\"Persists the selected route, confidence, and metadata for auditing.\\\"\\\"\\\"\n    record = {\n        \\\"route_target\\\": payload[\\\"route_target\\\"],\n        \\\"route_confidence\\\": payload[\\\"route_confidence\\\"],\n        \\\"channel\\\": payload.get(\\\"channel\\\", \\\"chat\\\"),\n        \\\"customer_id\\\": payload.get(\\\"customer_id\\\"),\n        \\\"timestamp\\\": datetime.utcnow().isoformat()\n    }\n    logger.info(\\\"route_decision\\\", extra=record)\n    return {\\\"status\\\": \\\"logged\\\", \\\"record\\\": record}\",\n""": """          \"content\": \"import logging\\nfrom datetime import datetime\\nfrom typing import Any, Dict\\n\\nlogger = logging.getLogger(\\\"omnichannel_router\\\")\\n\\ndef log_route_decision(payload: Dict[str, Any]) -> Dict[str, Any]:\\n    \\\"\\\"\\\"Persists the selected route, confidence, and metadata for auditing.\\\"\\\"\\\"\\n    record = {\\n        \\\"route_target\\\": payload[\\\"route_target\\\"],\\n        \\\"route_confidence\\\": payload[\\\"route_confidence\\\"],\\n        \\\"channel\\\": payload.get(\\\"channel\\\", \\\"chat\\\"),\\n        \\\"customer_id\\\": payload.get(\\\"customer_id\\\"),\\n        \\\"timestamp\\\": datetime.utcnow().isoformat()\\n    }\\n    logger.info(\\\"route_decision\\\", extra=record)\\n    return {\\\"status\\\": \\\"logged\\\", \\\"record\\\": record}\",\n""",
    """          \"content\": \"from typing import Any, Dict\n\nasync def collect_issue_details(runtime, context: Dict[str, Any]) -> Dict[str, Any]:\n    \\\"\\\"\\\"Emits an inline IssueBriefForm so the router can capture account metadata.\\\"\\\"\\\"\n    payload = {\n        \\\"component\\\": \\\"IssueBriefForm\\\",\n        \\\"mode\\\": \\\"inline\\\",\n        \\\"props\\\": {\n            \\\"accountId\\\": context.get(\\\"account_id\\\", \\\"\\\"),\n            \\\"channel\\\": context.get(\\\"channel\\\", \\\"chat\\\"),\n            \\\"urgency\\\": context.get(\\\"urgency\\\", \\\"standard\\\")\n        }\n    }\n    await runtime.send_ui_event(payload)\n    return {\\\"status\\\": \\\"rendered\\\", \\\"payload\\\": payload}\",\n""": """          \"content\": \"from typing import Any, Dict\\n\\nasync def collect_issue_details(runtime, context: Dict[str, Any]) -> Dict[str, Any]:\\n    \\\"\\\"\\\"Emits an inline IssueBriefForm so the router can capture account metadata.\\\"\\\"\\\"\\n    payload = {\\n        \\\"component\\\": \\\"IssueBriefForm\\\",\\n        \\\"mode\\\": \\\"inline\\\",\\n        \\\"props\\\": {\\n            \\\"accountId\\\": context.get(\\\"account_id\\\", \\\"\\\"),\\n            \\\"channel\\\": context.get(\\\"channel\\\", \\\"chat\\\"),\\n            \\\"urgency\\\": context.get(\\\"urgency\\\", \\\"standard\\\")\\n        }\\n    }\\n    await runtime.send_ui_event(payload)\\n    return {\\\"status\\\": \\\"rendered\\\", \\\"payload\\\": payload}\",\n""",
    """          \"content\": \"from typing import Any, Dict\n\nasync def review_resolution(runtime, context: Dict[str, Any]) -> Dict[str, Any]:\n    \\\"\\\"\\\"Sends the resolution draft to the ResolutionReviewPanel artifact.\\\"\\\"\\\"\n    payload = {\n        \\\"component\\\": \\\"ResolutionReviewPanel\\\",\n        \\\"mode\\\": \\\"artifact\\\",\n        \\\"props\\\": {\n            \\\"draft\\\": context[\\\"draft\\\"],\n            \\\"telemetry\\\": context.get(\\\"telemetry\\\", {}),\n            \\\"routeTarget\\\": context.get(\\\"route_target\\\")\n        }\n    }\n    await runtime.send_ui_event(payload)\n    return {\\\"status\\\": \\\"review_requested\\\", \\\"payload\\\": payload}\",\n""": """          \"content\": \"from typing import Any, Dict\\n\\nasync def review_resolution(runtime, context: Dict[str, Any]) -> Dict[str, Any]:\\n    \\\"\\\"\\\"Sends the resolution draft to the ResolutionReviewPanel artifact.\\\"\\\"\\\"\\n    payload = {\\n        \\\"component\\\": \\\"ResolutionReviewPanel\\\",\\n        \\\"mode\\\": \\\"artifact\\\",\\n        \\\"props\\\": {\\n            \\\"draft\\\": context[\\\"draft\\\"],\\n            \\\"telemetry\\\": context.get(\\\"telemetry\\\", {}),\\n            \\\"routeTarget\\\": context.get(\\\"route_target\\\")\\n        }\\n    }\\n    await runtime.send_ui_event(payload)\\n    return {\\\"status\\\": \\\"review_requested\\\", \\\"payload\\\": payload}\",\n""",
    """          \"content\": \"import React, { useState } from 'react';\n\nexport default function IssueBriefForm({ formState = {}, onSubmit }) {\n  const [form, setForm] = useState({\n    accountId: formState.accountId || '',\n    channel: formState.channel || 'chat',\n    urgency: formState.urgency || 'standard'\n  });\n\n  const handleChange = (event) => {\n    const { name, value } = event.target;\n    setForm((prev) => ({ ...prev, [name]: value }));\n  };\n\n  const handleSubmit = (event) => {\n    event.preventDefault();\n    onSubmit?.(form);\n  };\n\n  return (\n    <form onSubmit={handleSubmit} className='issue-brief-form'>\n      <label>\n        Account ID\n        <input name='accountId' value={form.accountId} onChange={handleChange} />\n      </label>\n      <label>\n        Channel\n        <select name='channel' value={form.channel} onChange={handleChange}>\n          <option value='chat'>Chat</option>\n          <option value='email'>Email</option>\n          <option value='phone'>Phone</option>\n        </select>\n      </label>\n      <label>\n        Urgency\n        <select name='urgency' value={form.urgency} onChange={handleChange}>\n          <option value='standard'>Standard</option>\n          <option value='high'>High</option>\n          <option value='critical'>Critical</option>\n        </select>\n      </label>\n      <button type='submit'>Continue</button>\n    </form>\n  );\n}\n\",\n""": """          \"content\": \"import React, { useState } from 'react';\\n\\nexport default function IssueBriefForm({ formState = {}, onSubmit }) {\\n  const [form, setForm] = useState({\\n    accountId: formState.accountId || '',\\n    channel: formState.channel || 'chat',\\n    urgency: formState.urgency || 'standard'\\n  });\\n\\n  const handleChange = (event) => {\\n    const { name, value } = event.target;\\n    setForm((prev) => ({ ...prev, [name]: value }));\\n  };\\n\\n  const handleSubmit = (event) => {\\n    event.preventDefault();\\n    onSubmit?.(form);\\n  };\\n\\n  return (\\n    <form onSubmit={handleSubmit} className='issue-brief-form'>\\n      <label>\\n        Account ID\\n        <input name='accountId' value={form.accountId} onChange={handleChange} />\\n      </label>\\n      <label>\\n        Channel\\n        <select name='channel' value={form.channel} onChange={handleChange}>\\n          <option value='chat'>Chat</option>\\n          <option value='email'>Email</option>\\n          <option value='phone'>Phone</option>\\n        </select>\\n      </label>\\n      <label>\\n        Urgency\\n        <select name='urgency' value={form.urgency} onChange={handleChange}>\\n          <option value='standard'>Standard</option>\\n          <option value='high'>High</option>\\n          <option value='critical'>Critical</option>\\n        </select>\\n      </label>\\n      <button type='submit'>Continue</button>\\n    </form>\\n  );\\n}\\n\",\n""",
    """          \"content\": \"import React from 'react';\n\nexport default function ResolutionReviewPanel({ draft, telemetry = {}, onApprove, onRequestChanges }) {\n  return (\n    <section className='resolution-review-panel'>\n      <header>\n        <h3>Specialist Draft</h3>\n        <p>Route Target: {telemetry.routeTarget || 'unknown'}</p>\n        <p>Confidence: {(telemetry.routeConfidence ?? 0).toFixed(2)}</p>\n      </header>\n      <article>\n        <pre>{draft}</pre>\n      </article>\n      <footer>\n        <button type='button' onClick={() => onApprove?.()}>Approve Response</button>\n        <button type='button' onClick={() => onRequestChanges?.()}>Request Revisions</button>\n      </footer>\n    </section>\n  );\n}\n\",\n""": """          \"content\": \"import React from 'react';\\n\\nexport default function ResolutionReviewPanel({ draft, telemetry = {}, onApprove, onRequestChanges }) {\\n  return (\\n    <section className='resolution-review-panel'>\\n      <header>\\n        <h3>Specialist Draft</h3>\\n        <p>Route Target: {telemetry.routeTarget || 'unknown'}</p>\\n        <p>Confidence: {(telemetry.routeConfidence ?? 0).toFixed(2)}</p>\\n      </header>\\n      <article>\\n        <pre>{draft}</pre>\\n      </article>\\n      <footer>\\n        <button type='button' onClick={() => onApprove?.()}>Approve Response</button>\\n        <button type='button' onClick={() => onRequestChanges?.()}>Request Revisions</button>\\n      </footer>\\n    </section>\\n  );\\n}\\n\",\n""",
    """        \"py_content\": \"from typing import Any, Dict, List\n\n